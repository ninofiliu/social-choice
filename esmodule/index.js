!function(r,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["social-choice"]=t():r["social-choice"]=t()}(window,function(){return function(r){var t={};function n(e){if(t[e])return t[e].exports;var i=t[e]={i:e,l:!1,exports:{}};return r[e].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=r,n.c=t,n.d=function(r,t,e){n.o(r,t)||Object.defineProperty(r,t,{enumerable:!0,get:e})},n.r=function(r){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},n.t=function(r,t){if(1&t&&(r=n(r)),8&t)return r;if(4&t&&"object"==typeof r&&r&&r.__esModule)return r;var e=Object.create(null);if(n.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:r}),2&t&&"string"!=typeof r)for(var i in r)n.d(e,i,function(t){return r[t]}.bind(null,i));return e},n.n=function(r){var t=r&&r.__esModule?function(){return r.default}:function(){return r};return n.d(t,"a",t),t},n.o=function(r,t){return Object.prototype.hasOwnProperty.call(r,t)},n.p="",n(n.s=0)}([function(r,t,n){"use strict";n.r(t);class e{constructor(r){this.r=r,this.n=r.reduce((r,t)=>r+t.nb,0),this.m=r[0].ranks.length,this.nGraph=new Array(this.m).fill(null).map((r,t)=>new Array(this.m).fill(null).map((r,n)=>t==n?null:this.getNXY(t,n))),this.pGraph=new Array(this.m).fill(null).map((r,t)=>new Array(this.m).fill(null).map((r,n)=>t==n?null:this.nGraph[t][n]>this.nGraph[n][t])),this.cw=this.getCW()}getNXY(r,t){let n=0;for(let e of this.r)e.ranks[r]<e.ranks[t]&&(n+=e.nb);return n}getCW(){for(let r=0;r<this.m;r++){let t=!0;for(let n=0;n<this.m;n++)r!=n&&(t=t&&this.pGraph[r][n]);if(t)return r}return null}summary(){const r=this.r.map(r=>r.nb.toString()),t=Math.max(...r.map(r=>r.length));r=r.map(r=>r+new Array(t-r.length).fill(" ").join(""));const n=new Array(this.r.length).fill().map(()=>new Array(this.m).fill().map(()=>[]));for(let r=0;r<this.r.length;r++)this.r[r].ranks.forEach((t,e)=>{n[r][t].push(e)});n=n.map(r=>r.map(r=>r.join(" ")));for(let r=0;r<this.m;r++){let t=Math.max(...new Array(this.r.length).fill().map((t,e)=>n[e][r].length));for(let e=0;e<this.r.length;e++)n[e][r]+=new Array(t-n[e][r].length).fill(" ").join("")}const e=n.map(r=>r.join(" : ")),i=new Array(this.r.length).fill().map((t,n)=>`${r[n]} | ${e[n]}`).join("\n");return[new Array(i.split("\n")[0].length).fill("-").join(""),i,new Array(i.split("\n")[0].length).fill("-").join(""),`n: ${this.n}`,`m: ${this.m}`,`Condorcet winner: ${this.cw}`].join("\n")}}var i=r=>{const t=new Array(r.m).fill(0);r.r.forEach(({nb:r,ranks:n})=>{const e=Math.min(...n);n.forEach((n,i)=>{n==e&&(t[i]-=r)})});const n=Math.max(...t);return t.reduce((r,t,e)=>t==n?[...r,e]:r,[])};var o=(r,t)=>{const n=new Array(r.m).fill(0);r.r.forEach(({nb:r,ranks:e})=>{e.forEach((e,i)=>{n[i]+=r*t[e]})});const e=Math.max(...n),i=[];return n.forEach((r,t)=>r==e&&i.push(t)),i};var l=r=>{const t=new Array(r.m).fill().map((t,n)=>r.m-n-1);return o(r,t)};var a=r=>{const t=new Array(r.m).fill(0);r.r.forEach(({nb:r,ranks:n})=>{n.forEach((n,e)=>{0==n&&(t[e]+=r)})});const n=Math.max(...t);return t.reduce((r,t,e)=>t==n?[...r,e]:r,[])};n.d(t,"scf",function(){return s}),n.d(t,"Profile",function(){return e});const s={antiPlurality:i,borda:l,plurality:a,scoring:o}}])});
//# sourceMappingURL=index.js.map