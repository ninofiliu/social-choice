!function(t,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define([],r):"object"==typeof exports?exports["social-choice"]=r():t["social-choice"]=r()}(window,function(){return function(t){var r={};function n(e){if(r[e])return r[e].exports;var i=r[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=r,n.d=function(t,r,e){n.o(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:e})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,r){if(1&r&&(t=n(t)),8&r)return t;if(4&r&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(n.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&r&&"string"!=typeof t)for(var i in t)n.d(e,i,function(r){return t[r]}.bind(null,i));return e},n.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(r,"a",r),r},n.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)},n.p="",n(n.s=0)}([function(t,r,n){"use strict";n.r(r);class e{constructor(t){this.r=t,this.n=t.reduce((t,r)=>t+r.nb,0),this.m=t[0].ranks.length,this.nGraph=new Array(this.m).fill(null).map((t,r)=>new Array(this.m).fill(null).map((t,n)=>r==n?null:this.getNXY(r,n))),this.pGraph=new Array(this.m).fill(null).map((t,r)=>new Array(this.m).fill(null).map((t,n)=>r==n?null:this.nGraph[r][n]>this.nGraph[n][r])),this.cw=this.getCW()}getNXY(t,r){let n=0;for(let e of this.r)e.ranks[t]<e.ranks[r]&&(n+=e.nb);return n}getCW(){for(let t=0;t<this.m;t++){let r=!0;for(let n=0;n<this.m;n++)t!=n&&(r=r&&this.pGraph[t][n]);if(r)return t}return null}summary(){const t=this.r.map(t=>t.nb.toString()),r=Math.max(...t.map(t=>t.length));t=t.map(t=>t+new Array(r-t.length).fill(" ").join(""));const n=new Array(this.r.length).fill().map(()=>new Array(this.m).fill().map(()=>[]));for(let t=0;t<this.r.length;t++)this.r[t].ranks.forEach((r,e)=>{n[t][r].push(e)});n=n.map(t=>t.map(t=>t.join(" ")));for(let t=0;t<this.m;t++){let r=Math.max(...new Array(this.r.length).fill().map((r,e)=>n[e][t].length));for(let e=0;e<this.r.length;e++)n[e][t]+=new Array(r-n[e][t].length).fill(" ").join("")}const e=n.map(t=>t.join(" : ")),i=new Array(this.r.length).fill().map((r,n)=>`${t[n]} | ${e[n]}`).join("\n");return[new Array(i.split("\n")[0].length).fill("-").join(""),i,new Array(i.split("\n")[0].length).fill("-").join(""),`n: ${this.n}`,`m: ${this.m}`,`Condorcet winner: ${this.cw}`].join("\n")}}var i=(t,r)=>{const n=new Array(t.m).fill(0);t.r.forEach(({nb:t,ranks:e})=>{e.forEach((e,i)=>{n[i]+=t*r[e]})});const e=Math.max(...n),i=[];return n.forEach((t,r)=>t==e&&i.push(r)),i};var o=t=>{const r=new Array(t.m).fill().map((r,n)=>t.m-n-1);return i(t,r)};var l=t=>{const r=new Array(t.m).fill(0);t.r.forEach(({nb:t,ranks:n})=>{n.forEach((n,e)=>{0==n&&(r[e]+=t)})});const n=Math.max(...r);return r.reduce((t,r,e)=>r==n?[...t,e]:t,[])};n.d(r,"scf",function(){return a}),n.d(r,"Profile",function(){return e});const a={borda:o,plurality:l,scoring:i}}])});
//# sourceMappingURL=index.js.map